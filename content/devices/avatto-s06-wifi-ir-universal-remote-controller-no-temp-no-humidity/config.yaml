# Basic Config
---

# https://esphome.io/devices/esp8266.html
esphome:
  name: ir_remote

esp8266:
  board: esp01_1m

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  ap:

captive_portal:

# Enable logging
logger:
  level: DEBUG # Default

# Enable Home Assistant API
api:
  encryption:
    key: !secret api_encryption_key

ota:
  password: !secret ota_password

# https://esphome.io/components/status_led.html
status_led:
  pin: 4

# https://esphome.io/components/remote_receiver.html
remote_receiver:
  id: rcvr
  pin:
    number: 5
    mode: INPUT_PULLUP
    inverted: True

# https://www.esphome.io/components/remote_transmitter.html
remote_transmitter:
  id: tamtr
  pin: 14
  carrier_duty_percent: 50%

# https://esphome.io/components/climate/ir_climate.html
climate:
  - platform: toshiba
    id: ac
    name: AC'
    receiver_id: rcvr
    transmitter_id: tamtr

switch:
  - platform: template
    name: 'AC Preset'
    id: ac_preset
    icon: mdi:cached
    turn_on_action:
      - climate.control:
          id: ac
          mode: COOL
          target_temperature: 24Â°C
          fan_mode: AUTO
          swing_mode: VERTICAL

    # https://esphome.io/components/switch/shutdown.html
  - platform: shutdown
    name: "IR Remote Shutdown"
    id: ir_remote_shutdown